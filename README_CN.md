# Obsidian 命令面板插件

[English](./README.md) | 中文文档

一个强大的可视化命令面板插件，帮助你通过直观的界面组织和快速执行 Obsidian 命令。

## ✨ 功能特性

### 🎯 核心功能

- **双模式访问**
  - 📌 侧边栏面板 - 在侧边栏中持久显示命令面板
  - ⚡ 弹窗模式 - 快速访问弹窗（支持 Shift 保持打开）
  
- **智能命令组织**
  - 📁 自定义分组 - 将命令组织成逻辑分组
  - 🎨 视觉定制 - 为每个命令自定义名称、图标和颜色
  - 🔄 拖拽排序 - 轻松调整命令和分组的顺序
  
- **智能追踪**
  - 🕐 最近使用 - 自动追踪你最近使用的命令
  - 📊 最多使用 - 显示使用频率最高的命令，带使用次数徽章
  - 🎯 智能建议 - 在需要时提供你需要的命令

- **灵活布局**
  - 📐 网格布局 - 紧凑的图标视图
  - 📋 列表布局 - 显示完整命令名称的详细列表
  - 🔲 紧凑布局 - 为高级用户提供最大密度

- **强大搜索**
  - 🔍 实时过滤 - 即时搜索所有命令
  - 🎯 模糊匹配 - 即使部分匹配也能找到命令
  - ⌨️ 快捷键显示 - 一目了然地查看热键

### 🎨 自定义选项

- **命令样式**
  - 自定义图标（Lucide 图标）
  - 自定义名称（覆盖默认名称）
  - 自定义颜色（高亮重要命令）
  
- **布局选项**
  - 可调整网格列数（2-8）
  - 按钮大小（小/中/大）
  - 显示/隐藏快捷键和工具提示

- **上下文感知**
  - 仅在特定上下文中显示分组（编辑器/Markdown/Canvas）
  - 自动上下文过滤

## 📦 安装

### 从 Obsidian 社区插件安装

1. 打开 Obsidian 设置
2. 进入 **第三方插件** 并关闭安全模式
3. 点击 **浏览** 并搜索 "Command Panel"
4. 点击 **安装** 然后 **启用**

### 手动安装

1. 从 [GitHub Releases](https://github.com/Lemon695/obsidian-command-panel/releases) 下载最新版本
2. 解压文件到 `<vault>/.obsidian/plugins/command-panel/`
3. 重新加载 Obsidian
4. 在 设置 → 第三方插件 中启用插件

## 🚀 快速开始

### 1. 打开命令面板

**两种访问方式：**
- 点击功能区的 **网格图标**（📊）→ 打开侧边栏面板
- 点击功能区的 **闪电图标**（⚡）→ 打开弹窗模式
- 使用命令面板：`Command Panel: Open (Sidebar)` 或 `Command Panel: Open (Pop-up)`

### 2. 创建第一个分组

1. 点击 **"+ Add Group"** 按钮
2. 输入名称（例如："编辑"、"导航"、"我的工作流"）
3. 选择图标（可选）
4. 点击 **创建**

### 3. 向分组添加命令

1. 点击分组标题中的 **"+"** 按钮
2. 在弹窗中搜索命令
3. 选择要添加的命令
4. 点击 **添加选中项**

### 4. 自定义命令

**右键点击任何命令可以：**
- ✏️ 编辑 - 更改名称、图标或颜色
- 📋 复制命令 ID
- 🗑️ 从分组中移除

**编辑命令详情：**
- 自定义名称：覆盖默认命令名称
- 自定义图标：从 Lucide 图标中选择（例如 `star`、`heart`、`zap`）
- 按钮颜色：选择高亮颜色

### 5. 组织你的面板

**拖拽操作：**
- 拖动命令在分组内重新排序
- 拖动命令到其他分组
- 拖动分组来调整顺序

**分组管理：**
- 点击分组标题折叠/展开
- 点击 **⋯** 菜单查看更多选项（重命名、移动、删除）

## 💡 使用技巧

### 弹窗模式技巧

- **按住 Shift** 点击命令可保持弹窗打开
- **按 ESC** 清除搜索或关闭弹窗
- **自动聚焦** 搜索框，方便快速过滤

### 侧边栏面板技巧

- 将常用命令保留在"最近使用"或"最多使用"中
- 使用颜色对命令分类（例如：红色表示删除，绿色表示创建）
- 折叠不常用的分组以减少混乱

### 智能功能

**最近使用：**
- 自动追踪最近 20 个命令（可配置）
- 右键移除特定命令
- 如不需要可在设置中禁用

**最多使用：**
- 按使用频率排序显示命令
- 显示使用次数徽章
- 右键重置任何命令的计数

### 键盘快捷键

为以下命令设置自定义热键：
- `Command Panel: Open (Sidebar)` - 打开侧边栏面板
- `Command Panel: Open (Pop-up)` - 打开弹窗模式

## ⚙️ 设置

### 显示设置

- **布局样式** - 网格、列表或紧凑
- **网格列数** - 列数（2-8）
- **按钮大小** - 小、中或大
- **显示工具提示** - 悬停时显示完整命令名称

### 智能功能

- **显示最近使用** - 启用/禁用最近命令追踪
- **最近使用限制** - 最近命令的最大数量（5-50）
- **显示最多使用** - 启用/禁用使用统计
- **最多使用限制** - 最多使用命令的最大数量（5-50）
- **显示快捷键** - 在按钮上显示键盘快捷键
- **显示执行通知** - 命令执行时显示通知

### 数据管理

- **导出配置** - 将设置复制到剪贴板（JSON 格式）
- **导入配置** - 从 JSON 恢复设置
- **重置为默认** - 清除所有数据并恢复默认设置

## 🎨 自定义示例

### 示例 1：编辑工作流

```
📝 编辑
├─ 加粗 (⌘B) - 红色
├─ 斜体 (⌘I) - 橙色
├─ 高亮 - 黄色
└─ 删除线 - 灰色
```

### 示例 2：导航

```
🧭 导航
├─ 快速切换 (⌘O)
├─ 搜索 (⌘⇧F)
├─ 关系图谱
└─ 文件列表
```

### 示例 3：日常工作流

```
📅 日常
├─ 每日笔记
├─ 周回顾
├─ 任务列表
└─ 日历
```

## 🔧 高级用法

### 上下文感知分组

可以配置分组仅在特定上下文中显示：
- **全部** - 始终可见（默认）
- **编辑器** - 仅在编辑模式下
- **Markdown** - 仅在 Markdown 文件中
- **Canvas** - 仅在画布视图中

### 批量操作

1. 使用右键菜单快速管理命令
2. 复制命令 ID 用于自动化
3. 导出/导入配置以与他人共享

### 性能提示

- 不使用时保持分组折叠
- 将"最近使用"和"最多使用"限制在合理数量
- 使用搜索而不是滚动浏览大量命令

## 🐛 故障排除

### 命令未显示？

- 确保提供该命令的插件已启用
- 检查命令是否被上下文过滤隐藏
- 尝试搜索命令名称

### 面板无法打开？

- 检查插件是否在设置中启用
- 尝试重新加载 Obsidian（Ctrl/Cmd + R）
- 检查控制台错误（Ctrl/Cmd + Shift + I）

### 拖拽不工作？

- 确保不在搜索模式下
- 尝试点击并按住片刻再拖动
- 检查命令/分组是否被锁定

### 设置未保存？

- 检查 `.obsidian/plugins/command-panel/` 的文件权限
- 尝试导出并重新导入配置
- 检查是否有冲突的插件

## 📝 常见问题

**问：可以在移动端使用吗？**
答：可以！该插件完全兼容 Obsidian 移动端。

**问：如何分享我的配置？**
答：在设置中使用导出配置，然后与他人分享 JSON。

**问：可以在多个分组中使用同一个命令吗？**
答：可以！根据需要将同一命令添加到多个分组。

**问：这会拖慢 Obsidian 吗？**
答：不会，即使有 100+ 个命令，插件也经过性能优化。

**问：可以自定义图标吗？**
答：可以！使用任何 Lucide 图标名称（参见 https://lucide.dev）

**问：如何重置所有内容？**
答：进入 设置 → 数据管理 → 重置为默认

## 🤝 贡献

欢迎贡献！请随时提交 Pull Request。

### 开发设置

```bash
# 克隆仓库
git clone https://github.com/Lemon695/obsidian-command-panel.git

# 安装依赖
npm install

# 启动开发模式
npm run dev

# 生产构建
npm run build
```

## 📄 许可证

MIT 许可证 - 详见 [LICENSE](LICENSE) 文件

## 🙏 致谢

- 使用 [Obsidian Plugin API](https://github.com/obsidianmd/obsidian-api) 构建
- 图标来自 [Lucide](https://lucide.dev)
- 灵感来自 Obsidian 社区

## 📮 支持

- 🐛 [报告问题](https://github.com/Lemon695/obsidian-command-panel/issues)
- 💡 [功能请求](https://github.com/Lemon695/obsidian-command-panel/issues)
- 📖 [文档](https://github.com/Lemon695/obsidian-command-panel)

---

**用 ❤️ 为 Obsidian 社区制作**
